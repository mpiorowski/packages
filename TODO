TODO: make it work on svelte without external